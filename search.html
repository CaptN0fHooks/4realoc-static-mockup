<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Property Search | Real OC | Coastal & Luxury Homes</title>
  <meta name="description" content="Search Orange County coastal and luxury homes. Find your perfect property with advanced search filters." />
  <meta name="theme-color" content="#0D1B2A" />

  <!-- Favicon -->
  <link rel="icon" href="assets/profile-icon.png" />

  <!-- Preload Backgrounds -->
  <link rel="preload" as="image" href="assets/backgrounds/search_hero_bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/search_results_bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/top10_bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/inquire-bg.webp">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/background-attributes.css" />

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
</head>

<body>
  <!-- Reveal zone (hover near top to show header) -->
  <div class="top-reveal-zone" aria-hidden="true"></div>

  <!-- ===== MINIMAL PREMIUM HEADER ===== -->
  <header id="siteHeader" class="site-header" role="banner">
    <div class="container header-row">
      <a class="brand" href="index.html" aria-label="Real OC home">
        <div class="brand-logo">
          <img src="assets/logo-icon.png" alt="Real OC logo" />
          <div class="brand-glow"></div>
        </div>
        <div class="brand-text">
          <span class="brand-name">Real OC</span>
          <span class="brand-tagline">Coastal & Luxury Homes</span>
        </div>
      </a>

      <!-- Mobile menu toggle -->
      <input id="nav-toggle" type="checkbox" aria-label="Toggle navigation">
      <label for="nav-toggle" class="hamburger" aria-hidden="true">
        <span></span><span></span><span></span>
      </label>

      <nav class="main-nav" aria-label="Primary">
        <ul class="nav-links">
          <li class="nav-item">
            <a href="index.html" class="nav-link">
              <span class="nav-text">Home</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="buyers.html" class="nav-link">
              <span class="nav-text">Buyers</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="sellers.html" class="nav-link">
              <span class="nav-text">Sellers</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="why-us.html" class="nav-link">
              <span class="nav-text">Why Us</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="about.html" class="nav-link">
              <span class="nav-text">About</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="contact.html" class="nav-link">
              <span class="nav-text">Contact</span>
              <span class="nav-underline"></span>
            </a>
          </li>
        </ul>
      </nav>

      <div class="nav-ctas">
        <a class="btn secondary" href="search.html">Search Properties</a>
        <a class="btn primary" href="contact.html">
          <span>Book Consultation</span>
          <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section id="hero" class="hero-search bg-fixed">
    <div class="hero-bg" aria-hidden="true">
      <div class="hero-gradient"></div>
    </div>
    
    <div class="container hero-content">
      <div class="hero-text">
        <h1 class="hero-headline">
          <span class="hero-line-1">Property Search</span>
          <span class="hero-line-2">Top 5 Results</span>
        </h1>
        <div class="hero-reveal">
          <p class="hero-tagline" id="resultCount">Top 5 Results</p>
          
          <!-- Top 5 Results in Hero -->
          <div class="hero-top5" id="heroTop5">
            <div class="top5-container">
              <!-- Top 5 properties will be loaded here by JavaScript -->
            </div>
          </div>
          
          <div class="hero-ctas">
            <a class="btn cta" href="https://matrix.crmls.org/Matrix/public/IDX.aspx?idx=10ac3648" target="_blank" rel="noopener">
              <span class="btn-icon">🏠</span>
              View Real MLS Listings
            </a>
            <a class="btn ghost" href="#mapChatbot">Explore Map</a>
            <a class="btn ghost" href="#top10Listings">View Top 10</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== MAP AND CHATBOT SECTION ===== -->
  <section id="mapChatbot" class="section section-light map-chatbot-section bg-fixed">
    <div class="container">
      <div class="search-layout">
        <div class="map-column">
          <div class="map-header">
            <h3>Property Map</h3>
            <p>Click markers to view property details</p>
          </div>
          <div class="map-container" id="propertyMap" role="application" aria-label="Interactive Property Map">
            <div class="map-placeholder" id="mapPlaceholder">
              <div class="map-icon" aria-hidden="true">🗺️</div>
              <h4>Interactive Property Map</h4>
              <p>Loading map with property locations…</p>
              <div class="map-status" role="status" aria-live="polite">
                <span class="status-indicator" aria-hidden="true"></span>
                <span>Results will appear as soon as listings load</span>
              </div>
            </div>
          </div>
          <div class="map-actions">
            <a href="#inquire" class="map-btn">Book a Showing</a>
          </div>
          <noscript>
            <div class="no-js-message">
              <p>This experience requires JavaScript. <a href="index.html">Return to the homepage</a> to start a new search.</p>
            </div>
          </noscript>
        </div>

        <div class="chatbot-column">
          <section class="chatbox" id="searchChatbot" role="region" aria-label="AI search refinement assistant">
            <header class="chatbox-header">
              <h3>Refine Your Search</h3>
              <p>Paint the picture of your perfect Orange County lifestyle and I'll tailor the results.</p>
            </header>
            <form class="chatbox-form" id="refineChatForm" novalidate>
              <label class="sr-only" for="refineChatInput">Describe your ideal property</label>
              <textarea id="refineChatInput" class="chatbox-textarea" placeholder="Example: Newport Coast villa with ocean views, 4+ beds, under $3.5M, near top-rated schools" aria-label="Describe your ideal property"></textarea>
              <div class="chatbox-actions">
                <button type="submit" class="btn cta chatbox-send">Search</button>
              </div>
            </form>
          </section>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== TOP 10 LISTINGS ===== -->
  <section id="top10Listings" class="section section-dark top10-section bg-fixed">
    <div class="container">
      <header class="section-head">
        <h2>Top 10 Listings</h2>
        <p>Best properties from your search results</p>
      </header>

      <div id="resultsError" class="results-error" role="alert" hidden></div>
      <div id="resultsSkeleton" class="top10-grid" hidden></div>
      <div id="resultsEmpty" class="results-empty" hidden>
        <h3>No listings match those filters yet</h3>
        <p>Try widening the map, adjusting price, or removing a filter. You can also head back to the <a href="index.html">homepage chatbot</a> to start over.</p>
      </div>

      <div class="top10-grid" id="top10Grid"></div>

      <div class="results-actions">
        <button class="btn secondary" id="loadMoreListings" type="button" hidden>Load more results</button>
      </div>
      <p class="results-disclaimer">Listing data courtesy of respective listing agents/brokerages. All rights reserved.</p>
    </div>
  </section>

  <!-- ===== INQUIRE SECTION ===== -->
  <section id="inquire" class="section inquire-section bg-fixed" aria-labelledby="inquire-title">
    <div class="inquire-inner container">
      <div class="inquire-copy">
        <h2 id="inquire-title">Request a Property Viewing Today!</h2>
        <p>View a property as soon as today!</p>
        <div class="quick-actions">
          <a class="btn cta" href="mailto:michaelrichard.re@gmail.com">Email Michael</a>
          <a class="btn ghost" href="tel:+17146552923">Call (714) 655-2923</a>
        </div>
      </div>
      <form class="inquire-card" action="https://formsubmit.co/michaelrichard.re@gmail.com" method="post">
        <input type="hidden" name="_subject" value="New inquiry from Real OC">
        <input type="hidden" name="_template" value="table">
        <div class="form-grid">
          <label class="form-field">
            <span>First name</span>
            <input type="text" name="firstName" autocomplete="given-name" required>
          </label>
          <label class="form-field">
            <span>Last name</span>
            <input type="text" name="lastName" autocomplete="family-name" required>
          </label>
          <label class="form-field">
            <span>Email</span>
            <input type="email" name="email" autocomplete="email" required>
          </label>
          <label class="form-field">
            <span>Phone</span>
            <input type="tel" name="phone" autocomplete="tel" placeholder="(###) ###-####">
          </label>
          <label class="form-field">
            <span>I'm looking for</span>
            <div class="custom-select">
              <div class="select-trigger">
                <span class="select-value">Select option</span>
                <span class="select-arrow">▼</span>
              </div>
              <div class="select-options">
                <div class="select-option" data-value="consultation">Buyer/Seller Consultation</div>
                <div class="select-option" data-value="showing">Property Showing</div>
                <div class="select-option" data-value="evaluation">Home Evaluation</div>
                <div class="select-option" data-value="investor">Investor Services</div>
              </div>
              <input type="hidden" name="service" required>
            </div>
          </label>
        </div>
        
        <div id="dynamicFields" class="dynamic-fields" style="display: none;">
          <!-- Buyer/Seller Consultation Fields -->
          <div id="consultationFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Best way to contact</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select contact method</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="call">Call</div>
                  <div class="select-option" data-value="text">Text</div>
                  <div class="select-option" data-value="email">Email</div>
                </div>
                <input type="hidden" name="contactMethod">
              </div>
            </label>
            <label class="form-field">
              <span>Preferred Time</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select time</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="morning">Morning (9 AM - 12 PM)</div>
                  <div class="select-option" data-value="afternoon">Afternoon (12 PM - 5 PM)</div>
                  <div class="select-option" data-value="evening">Evening (5 PM - 8 PM)</div>
                  <div class="select-option" data-value="custom">Custom Time</div>
                </div>
                <input type="hidden" name="consultationTimeOption">
              </div>
            </label>
            <label class="form-field" id="consultationCustomTimeField" style="display: none;">
              <span>Custom Time</span>
              <input type="time" name="consultationCustomTime">
            </label>
          </div>
          
          <!-- Property Showing Fields -->
          <div id="showingFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Property Address</span>
              <input type="text" name="propertyAddress" placeholder="Enter the property address you'd like to see">
            </label>
            <label class="form-field">
              <span>Preferred Date</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select date</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="today">Today</div>
                  <div class="select-option" data-value="tomorrow">Tomorrow</div>
                  <div class="select-option" data-value="future">Future Date</div>
                </div>
                <input type="hidden" name="dateOption">
              </div>
            </label>
            <label class="form-field" id="futureDateField" style="display: none;">
              <span>Select Future Date</span>
              <input type="date" name="futureDate" min="">
            </label>
            <label class="form-field">
              <span>Preferred Time</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select time</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="morning">Morning (9 AM - 12 PM)</div>
                  <div class="select-option" data-value="afternoon">Afternoon (12 PM - 5 PM)</div>
                  <div class="select-option" data-value="evening">Evening (5 PM - 8 PM)</div>
                  <div class="select-option" data-value="custom">Custom Time</div>
                </div>
                <input type="hidden" name="timeOption">
              </div>
            </label>
            <label class="form-field" id="customTimeField" style="display: none;">
              <span>Custom Time</span>
              <input type="time" name="customTime">
            </label>
          </div>
          
          <!-- Home Evaluation Fields -->
          <div id="evaluationFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Property Address</span>
              <input type="text" name="evaluationAddress" placeholder="Enter the property address for evaluation">
            </label>
            <label class="form-field">
              <span>Property Type</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select property type</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="single-family">Single Family Home</div>
                  <div class="select-option" data-value="condo">Condominium</div>
                  <div class="select-option" data-value="townhouse">Townhouse</div>
                  <div class="select-option" data-value="multi-family">Multi-Family</div>
                  <div class="select-option" data-value="commercial">Commercial</div>
                </div>
                <input type="hidden" name="propertyType">
              </div>
            </label>
          </div>
          
          <!-- Investor Services Fields -->
          <div id="investorFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Investment Interest</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select Investment Interest</span>
                  <span class="select-arrow">▼</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="property-management">Property Management</div>
                  <div class="select-option" data-value="buy-and-hold">Buy & Hold</div>
                  <div class="select-option" data-value="fix-and-flip">Fix & Flip</div>
                  <div class="select-option" data-value="wholesale">Wholesale</div>
                  <div class="select-option" data-value="commercial">Commercial Investment</div>
                </div>
                <input type="hidden" name="investmentType">
              </div>
            </label>
            <label class="form-field">
              <span>Budget Range</span>
              <input type="text" name="budgetRange" placeholder="e.g., $500K - $1M">
          </label>
        </div>
        </div>
        
        <label class="form-field">
          <span>Message</span>
          <textarea name="message" rows="4" placeholder="Share details, timelines, or properties you'd like to see"></textarea>
        </label>
        <button type="submit" class="btn cta inquire-submit">Send Inquiry</button>
        <p class="inquire-disclaimer">Quick reply within one business day. Prefer a direct line? Email or call anytime.</p>
      </form>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer lux-footer" role="contentinfo">
      <div class="footer-surface">
        <div class="container footer-primary">
          <div class="footer-brand">
            <img src="assets/logo-icon.png" alt="Real OC logo" class="footer-logo">
            <p class="footer-tagline">Marine discipline. Bespoke guidance. Orange County real estate tailored to your next move.</p>
          </div>
          <div class="footer-contact">
            <h4>Visit &amp; Contact</h4>
            <ul class="footer-list">
              <li><span>Phone</span><a href="tel:+18554732562">1 (855) 4-REAL-OC</a></li>
              <li><span>Email</span><a href="mailto:michaelrichard.re@gmail.com">michaelrichard.re@gmail.com</a></li>
              <li><span>Office</span><address>Orange County, CA</address></li>
            </ul>
          </div>
          <div class="footer-links">
            <h4>Explore</h4>
            <ul class="footer-list">
              <li><a href="index.html">Home</a></li>
              <li><a href="search.html">Homes</a></li>
              <li><a href="buyers.html">Buyers</a></li>
              <li><a href="sellers.html">Sellers</a></li>
              <li><a href="why-us.html">Why Us</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="contact.html#inquire">Inquire</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
          <div class="footer-legal">
            <h4>Brokerage</h4>
            <p>Brokered by eXp Realty of Southern California</p>
            <p>CA DRE #01901413</p>
            <p class="legal-note">Equal Housing Opportunity. Information deemed reliable but not guaranteed. Independently owned and operated.</p>
            <a class="btn ghost footer-consult" href="contact.html">Schedule a Private Consultation</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="container footer-bottom-row">
          <p>&copy; <span id="year"></span> Real OC. All rights reserved.</p>
          <div class="footer-meta">
            <span>Licensed in the State of California</span>
            <span>Fair Housing &amp; ADA compliant</span>
          </div>
        </div>
      </div>
    </footer>

  <script src="js/main.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1j7kGStbF7JpVb2p2XB1i4A1QYcLxwLXaF2jm7SM=" crossorigin=""></script>
  <script type="module" src="js/search-page.js"></script>
</body>
</html>