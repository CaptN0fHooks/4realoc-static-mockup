<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Listing Preview | Real OC</title>
  <link rel="stylesheet" href="css/style.css"/>

  <!-- Minimal page-only tweaks -->
  <style>
    #lp-hero.section::before { background: rgba(0,0,0,0.45); }
    .lp-wrap { max-width: 1100px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 24px; text-align: left; }
    .lp-media { border-radius: 16px; overflow: hidden; }
    .lp-media img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .lp-card { padding: 24px 28px; }
    .pill { display:inline-block; padding: 6px 10px; border-radius: 999px; background: rgba(255,255,255,0.14); margin-right: 8px; font-size: .9rem; }
    .lp-actions { margin-top: 18px; display: flex; flex-wrap: wrap; gap: 10px; }
    .lp-actions .pill { text-decoration: none; }
    .lp-skeleton { border-radius: 16px; height: 320px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06) 25%, rgba(255,255,255,0.12) 37%, rgba(255,255,255,0.06) 63%);
      background-size: 400% 100%; animation: shimmer 1.2s infinite; }
    @keyframes shimmer { 0% { background-position: 100% 0; } 100% { background-position: 0 0; } }
    @media (max-width: 900px){ .lp-wrap{ grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <!-- Reuses your sticky header styles -->
  <header id="header">
    <div class="logo"><img src="assets/profile-icon.png" alt="Real OC Logo"/></div>
    <nav>
      <ul>
        <li><a id="backLink" href="index.html#featured">Back to Listings</a></li>
        <li><a href="index.html#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero banner -->
  <section id="lp-hero" class="section" style="background: url('assets/backgrounds/search-bg.jpg') center/cover no-repeat;">
    <div class="section-content">
      <h2 id="listing-title">Loading listing…</h2>
      <p id="listing-subtitle">Please wait</p>
    </div>
  </section>

  <!-- Details -->
  <section class="section" style="background: #0f0f0f;">
    <div class="section-content">
      <div class="lp-wrap">
        <!-- Media -->
        <div class="glass-card lp-media">
          <div id="mediaSkeleton" class="lp-skeleton"></div>
          <img id="listing-image" src="" alt="" style="display:none"/>
        </div>

        <!-- Facts -->
        <div class="glass-card lp-card">
          <h3 id="price">—</h3>
          <p id="address">—</p>
          <p style="margin:10px 0 6px">
            <span class="pill" id="beds">—</span>
            <span class="pill" id="baths">—</span>
            <span class="pill" id="sqft">—</span>
          </p>
          <p style="margin-top:12px" id="desc">—</p>

          <div class="lp-actions">
            <a class="pill" id="emailLink" href="mailto:michaelrichard.re@gmail.com">Email Agent</a>
            <a class="pill" id="callLink" href="tel:17146552923">Call (714) 655-2923</a>
            <a class="pill" id="shareLink" href="#">Copy Share Link</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer id="footer">
    <p>&copy; 2025 Michael R. Jacquez · DRE #01901413 · eXp Realty of Southern California</p>
  </footer>

  <script>
    // 1) Tiny dataset (you can swap images later in /assets/listings/)
    const LISTINGS = {
  "hb-ocean-view": {
    title: "123 Ocean View Dr",
    subtitle: "Huntington Beach · Ocean-Side Living",
    image: "assets/listings/hb-ocean-view.webp",
    price: "$1,250,000",
    address: "123 Ocean View Dr, Huntington Beach, CA",
    beds: "3 Beds", baths: "2.5 Baths", sqft: "1,980 Sq Ft",
    desc: "Steps from the sand with light-drenched living spaces, vaulted ceilings, and a breezy entertainer’s deck."
  },

  "newport-coast-villa": {
    title: "456 Newport Coast Rd",
    subtitle: "Newport Beach · Gated Villa",
    image: "assets/listings/newport-coast-villa.webp",
    price: "$2,400,000",
    address: "456 Newport Coast Rd, Newport Beach, CA",
    beds: "4 Beds", baths: "3.5 Baths", sqft: "3,120 Sq Ft",
    desc: "Modern Mediterranean with panoramic coastal views, chef’s kitchen, and a spa-style primary suite."
  },

  "balboa-bungalow": {
    title: "789 Balboa Blvd",
    subtitle: "Balboa Island · Classic Bungalow",
    image: "assets/listings/balboa-bungalow.webp",
    price: "$3,150,000",
    address: "789 Balboa Blvd, Newport Beach, CA",
    beds: "3 Beds", baths: "2 Baths", sqft: "1,650 Sq Ft",
    desc: "Quintessential island charm, sunny courtyard, and harbor-adjacent walks for morning coffee runs."
  },

  "laguna-canyon-retreat": {
    title: "321 Laguna Canyon",
    subtitle: "Laguna Beach · Canyon Retreat",
    image: "assets/listings/laguna-canyon-retreat.webp",
    price: "$1,950,000",
    address: "321 Laguna Canyon Rd, Laguna Beach, CA",
    beds: "3 Beds", baths: "2 Baths", sqft: "1,980 Sq Ft",
    desc: "Art-forward midcentury in the canyons with towering oaks, ocean breezes, and gallery-grade light."
  },

  "seal-beach-cottage": {
    title: "15 Ocean Ave",
    subtitle: "Seal Beach · Surf Cottage",
    image: "assets/listings/seal-beach-cottage.webp",
    price: "$1,185,000",
    address: "15 Ocean Ave, Seal Beach, CA",
    beds: "2 Beds", baths: "1 Bath", sqft: "1,120 Sq Ft",
    desc: "Cozy beach cottage with remodeled kitchen, cedar hot tub, and walkable pier district vibes."
  },

  "sunset-harbor-home": {
    title: "220 Sunset Harbor",
    subtitle: "Huntington Harbour · Dockside",
    image: "assets/listings/sunset-harbor-home.webp",
    price: "$2,125,000",
    address: "220 Sunset Harbor, Huntington Beach, CA",
    beds: "4 Beds", baths: "3 Baths", sqft: "2,850 Sq Ft",
    desc: "Private dock, vaulted great room, and west-facing sunsets that go full postcard."
  },

  "dana-point-modern": {
    title: "88 Monarch Bay",
    subtitle: "Dana Point · Modern Luxe",
    image: "assets/listings/dana-point-modern.webp",
    price: "$4,250,000",
    address: "88 Monarch Bay Dr, Dana Point, CA",
    beds: "5 Beds", baths: "4.5 Baths", sqft: "4,050 Sq Ft",
    desc: "Sleek glass lines, indoor/outdoor living, pool courtyard, and quick golf cart access to the beach."
  },

  "san-clemente-hills": {
    title: "900 La Costa",
    subtitle: "San Clemente · Hills Estate",
    image: "assets/listings/san-clemente-hills.webp",
    price: "$2,995,000",
    address: "900 La Costa, San Clemente, CA",
    beds: "5 Beds", baths: "4 Baths", sqft: "3,780 Sq Ft",
    desc: "Hillside estate with Catalina views, terraced gardens, and a chef’s kitchen built for big gatherings."
  }
};

    // 2) Read slug from URL (?listing=slug)
    const $ = (id) => document.getElementById(id);
    const params = new URLSearchParams(location.search);
    const slug = params.get("listing");
    const data = LISTINGS[slug] || null;

    function mailtoWithSubject(title) {
      const subject = encodeURIComponent(`Inquiry: ${title} (Real OC)`);
      return `mailto:michaelrichard.re@gmail.com?subject=${subject}`;
    }
    function buildShareLink(slug) {
      const url = new URL(location.href);
      url.searchParams.set("listing", slug);
      return url.toString();
    }

    if (data) {
      $("listing-title").textContent = data.title;
      $("listing-subtitle").textContent = data.subtitle;
      $("price").textContent = data.price;
      $("address").textContent = data.address;
      $("beds").textContent = data.beds;
      $("baths").textContent = data.baths;
      $("sqft").textContent = data.sqft;
      $("desc").textContent = data.desc;

      $("listing-image").src = data.image;
      $("listing-image").alt = data.title;
      $("listing-image").onload = () => { $("mediaSkeleton").style.display = "none"; $("listing-image").style.display = "block"; };

      $("emailLink").href = mailtoWithSubject(data.title);
      $("shareLink").addEventListener("click", (e) => {
        e.preventDefault();
        navigator.clipboard?.writeText(buildShareLink(slug));
        $("shareLink").textContent = "Link Copied!";
        setTimeout(()=> $("shareLink").textContent = "Copy Share Link", 1500);
      });

      // Smart back: if you came from index/search, go back there
      const ref = document.referrer || "";
      $("backLink").href = /index\.html|search\.html|^https?:\/\/[^\/]+\/?$/.test(ref) ? ref : "index.html#featured";
    } else {
      $("listing-title").textContent = "Listing not found";
      $("listing-subtitle").textContent = "Please return to listings and try again.";
      $("mediaSkeleton").style.display = "none";
      $("listing-image").src = "assets/listings/fallback.webp";
      $("listing-image").alt = "Listing";
      $("listing-image").style.display = "block";
    }
  </script>
</body>
</html>
