<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Real OC | Coastal & Luxury Homes</title>
  <meta name="description" content="Real Estate for Real People. Coastal & luxury homes in Orange County. Buying, selling, and strategy‚Äîmade simple." />
  <meta name="theme-color" content="#0D1B2A" />

  <!-- Favicon -->
  <link rel="icon" href="assets/profile-icon.png" />

  <!-- Preload media for smoother UX -->
  <link rel="preload" as="image" href="assets/backgrounds/featured-bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/reasons-bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/about-bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/inquire-bg.webp">
  <link rel="preload" as="image" href="assets/backgrounds/results-bg.jpg">
  <link rel="preload" as="video" href="assets/MainCut.mp4">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/background-attributes.css" />
</head>

<body>
  <!-- Reveal zone (hover near top to show header) -->
  <div class="top-reveal-zone" aria-hidden="true"></div>

  <!-- ===== MINIMAL PREMIUM HEADER ===== -->
  <header id="siteHeader" class="site-header" role="banner">
    <div class="container header-row">
      <a class="brand" href="index.html" aria-label="Real OC home">
        <div class="brand-logo">
          <img src="assets/logo-icon.png" alt="Real OC logo" />
          <div class="brand-glow"></div>
        </div>
        <div class="brand-text">
          <span class="brand-name">Real OC</span>
          <span class="brand-tagline">Coastal & Luxury Homes</span>
        </div>
      </a>

      <!-- Mobile menu toggle -->
      <input id="nav-toggle" type="checkbox" aria-label="Toggle navigation">
      <label for="nav-toggle" class="hamburger" aria-hidden="true">
        <span></span><span></span><span></span>
      </label>

      <nav class="main-nav" aria-label="Primary">
        <ul class="nav-links">
          <li class="nav-item">
            <a href="index.html" class="nav-link">
              <span class="nav-text">Home</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="buyers.html" class="nav-link">
              <span class="nav-text">Buyers</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="sellers.html" class="nav-link">
              <span class="nav-text">Sellers</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="why-us.html" class="nav-link">
              <span class="nav-text">Why Us</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="about.html" class="nav-link">
              <span class="nav-text">About</span>
              <span class="nav-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a href="contact.html" class="nav-link">
              <span class="nav-text">Contact</span>
              <span class="nav-underline"></span>
            </a>
          </li>
        </ul>
      </nav>

      <div class="nav-ctas">
        <a class="btn secondary" href="search.html">Search Properties</a>
        <a class="btn primary" href="contact.html">
          <span>Book Consultation</span>
          <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section id="hero" class="hero">
    <div class="hero-bg" aria-hidden="true">
      <!-- Keep the filename EXACT (case matters on many hosts) -->
      <video src="assets/MainCut.mp4" autoplay muted loop playsinline preload="metadata" poster="assets/backgrounds/placeholder-bg.webp"></video>
      <div class="hero-scrim"></div>
    </div>

    <!-- Spinning PNG overlay (front/back like a coin) -->
    <div id="heroLogoVideo" class="hero-logo-video" style="display: none;">
      <div class="hero-logo-coin" aria-label="Call Mike logo spinning">
        <img class="face front" src="assets/logo-bgr.png" alt="Call Mike Logo front" />
        <img class="face back" src="assets/logo-bgr.png" alt="Call Mike Logo back" />
      </div>
    </div>

    <div class="container hero-content">
      <!-- Big animated headline -->
      <h1 class="hero-headline">
        <span id="heroLine" aria-live="polite">Real Estate</span>
      </h1>

      <!-- Staged reveals after headline lands on "Real OC" -->
      <div class="hero-reveal">
        <p class="hero-byline">By Michael R Jacquez</p>
        <p class="hero-tagline">Representing Orange County</p>

                 <div class="hero-ctas">
          <a class="btn cta" href="buyers.html">
            <span class="btn-main">Buy</span>
            <span class="btn-sub">with Clarity</span>
          </a>
          <a class="btn ghost" href="sellers.html">
            <span class="btn-main">Sell</span>
            <span class="btn-sub">with Confidence</span>
          </a>
         </div>
      </div>
    </div>
  </section>

  <!-- ===== FEATURED (AI Property Search) ===== -->
  <section id="featured" class="section section-img section-dark featured-bg bg-fixed">
    <div class="container">
      <header class="section-head">
        <h2>Discover Your Slice of Orange County</h2>
        <p>AI-powered property search with live MLS data ‚Äî find your perfect home.</p>
      </header>

      <!-- Two-Tile Layout: Property Preview + AI Chatbot -->
      <div class="featured-tiles">
              <!-- Left Tile: Property Preview (60% width) -->
              <div class="property-preview-tile">
                <div class="tile-header">
                  <h3>Featured Properties</h3>
                  <p>Live from MLS</p>
                </div>
                
                <!-- Single Property Carousel -->
                <div class="featured-carousel" id="featuredCarousel" role="region" aria-label="Featured Properties Carousel">
                  <div class="carousel-container">
                    <!-- Single property will be displayed here -->
                    <div class="featured-property-card" id="currentFeaturedProperty">
                      <div class="property-image" aria-hidden="true"></div>
                      <div class="property-details">
                        <div class="property-price" aria-label="Price loading">Loading...</div>
                        <div class="property-address" aria-label="Address loading">Fetching properties...</div>
                        <div class="property-features" aria-label="Features loading">Please wait</div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Carousel Indicators -->
                  <div class="carousel-indicators" role="tablist" aria-label="Featured property indicators">
                    <button class="indicator active" role="tab" aria-selected="true" aria-label="Property 1"></button>
                    <button class="indicator" role="tab" aria-selected="false" aria-label="Property 2"></button>
                    <button class="indicator" role="tab" aria-selected="false" aria-label="Property 3"></button>
                    <button class="indicator" role="tab" aria-selected="false" aria-label="Property 4"></button>
                    <button class="indicator" role="tab" aria-selected="false" aria-label="Property 5"></button>
                  </div>
                </div>

          <!-- Real Listings Access -->
          <div class="tile-actions">
            <a class="btn cta" href="https://matrix.crmls.org/Matrix/public/IDX.aspx?idx=10ac3648" target="_blank" rel="noopener">
              <span class="btn-icon">üè†</span>
              View Real Listings
            </a>
            <a class="btn ghost" href="search.html">
              <span class="btn-icon">ü§ñ</span>
              AI Search Demo
            </a>
          </div>
        </div>

        <!-- Right Tile: AI Chatbot (40% width) -->
        <div class="chatbot-tile">
          <div class="tile-header">
            <h3>AI Property Search</h3>
            <p>Tell me what you're looking for</p>
          </div>
          
      <div class="chatbot-container" id="homepageChatbot" role="region" aria-label="AI property search assistant">
            <div class="chatbot-interface">
              <div class="chatbot-messages" id="homepageChatMessages" role="log" aria-live="polite">
                <div class="message bot-message">
                  <div class="message-content">
                    Hi! I'm your AI assistant for Orange County real estate. Describe neighborhoods, price, beds/baths, or must-haves and I'll take you to the results page with those filters applied.
                  </div>
                </div>
              </div>
              <form class="chatbot-input-container" id="homepageChatForm" novalidate>
                <label class="sr-only" for="homepageChatInput">Describe your ideal property</label>
                <input
                  type="text"
                  id="homepageChatInput"
                  placeholder="HB or Newport, under 1.2M, 3+ beds, pool"
                  aria-label="Describe your ideal property"
                  autocomplete="off"
                />
                <button class="btn cta" type="submit" aria-label="Send message">
                  <span aria-hidden="true">&rarr;</span>
                </button>
              </form>
              <div class="chatbot-status" role="status" aria-live="polite">
                <span class="status-indicator" aria-hidden="true"></span>
                <span>We'll carry your preferences straight into the interactive map.</span>
              </div>
            </div>
          </div>

          <div class="quick-search-examples">
            <h4>Try asking:</h4>
            <div class="example-chips">
              <button type="button" class="chip" data-search-example="Laguna Beach condos under 1.5M with ocean view">"Laguna Beach condos under $1.5M"</button>
              <button type="button" class="chip" data-search-example="HB or Newport, under 1.2M, 3+ beds, pool">"HB or Newport, under 1.2M, 3+ beds, pool"</button>
              <button type="button" class="chip" data-search-example="Irvine townhomes under 900k with low HOA">"Irvine townhomes under $900k"</button>
            </div>
          </div>
        </div>
      </div>

      <!-- MLS Attribution -->
      <div class="mls-attribution">
        <small>Listing data ¬© CRMLS. Information deemed reliable but not guaranteed.</small>
      </div>
    </div>
  </section>
  

  <!-- ===== SIX REASONS ===== -->
  <section id="reasons" class="section section-img section-dark bg-fixed">
    <div class="container">
      <header class="section-head">
        <h2>Six Reasons to Work with Michael</h2>
        <p>Built on discipline, driven by ethics, proven by results</p>
      </header>

      <div class="grid reasons">
        <div class="reason glass"><h3>Combat-Tested, Market-Proven</h3><p>From Iraq to Orange County, I fight for the people I represent.</p></div>
        <div class="reason glass"><h3>Rescuer of Homeowners</h3><p>I began helping families escape foreclosure during the 2008 crisis.</p></div>
        <div class="reason glass"><h3>Ethics Over Ego</h3><p>I left the industry when I saw fraud. Now I protect clients at all costs.</p></div>
        <div class="reason glass"><h3>Orange County Obsessed</h3><p>Local knowledge of neighborhoods, lifestyle, and hidden gems.</p></div>
        <div class="reason glass"><h3>Results That Matter</h3><p>Closing deals and building toward 100 sales a year‚Äîone client at a time.</p></div>
        <div class="reason glass"><h3>Reputation Without Rival</h3><p>Trusted by buyers, sellers, and fellow agents. My word is my brand.</p></div>
      </div>
    </div>
  </section>

  <!-- ===== ABOUT ===== -->
  <section id="about" class="section section-img section-light bg-fixed">
    <div class="container">
      <header class="section-head"><h2>About Michael R. Jacquez</h2></header>
      <div class="about">
        <figure class="about-photo">
          <img src="assets/headshot.jpg" alt="Michael R. Jacquez">
        </figure>
        <div class="about-copy glass">
          <h3>Marine Discipline ¬∑ Local Expertise</h3>
          <p>I'm Michael Jacquez, a U.S. Marine veteran turned buyer's advocate. I cut my teeth helping families escape foreclosure after the 2008 crisis and have since represented clients across California ‚Äîfrom Sacramento to the Bay, and now here in Orange County. I don't chase deals; I fight for people. My approach is simple: professionalism, ethics, and results. Whether you're buying, selling, or investing, I bring discipline, local knowledge, and a reputation built on trust.</p>
          <a class="btn cta" href="contact.html">Work with Michael</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== INQUIRE SECTION ===== -->
  <section id="inquire" class="section inquire-section section-img section-dark bg-fixed" aria-labelledby="inquire-title">
    <div class="inquire-inner container">
      <div class="inquire-copy">
        <h2 id="inquire-title">Ready to buy, sell or invest in Orange County?</h2>
        <p>Let's build your plan in 15 minutes.</p>
        <div class="quick-actions">
          <a class="btn cta" href="mailto:michaelrichard.re@gmail.com">Email Michael</a>
          <a class="btn ghost" href="tel:+17146552923">Call (714) 655-2923</a>
        </div>
      </div>
      <form class="inquire-card" action="https://formsubmit.co/michaelrichard.re@gmail.com" method="post">
        <input type="hidden" name="_subject" value="New inquiry from Real OC">
        <input type="hidden" name="_template" value="table">
        <div class="form-grid">
          <label class="form-field">
            <span>First name</span>
            <input type="text" name="firstName" autocomplete="given-name" required>
          </label>
          <label class="form-field">
            <span>Last name</span>
            <input type="text" name="lastName" autocomplete="family-name" required>
          </label>
          <label class="form-field">
            <span>Email</span>
            <input type="email" name="email" autocomplete="email" required>
          </label>
          <label class="form-field">
            <span>Phone</span>
            <input type="tel" name="phone" autocomplete="tel" placeholder="(###) ###-####">
          </label>
          <label class="form-field">
            <span>I'm looking for</span>
            <div class="custom-select">
              <div class="select-trigger">
                <span class="select-value">Select option</span>
                <span class="select-arrow">‚ñº</span>
              </div>
              <div class="select-options">
                <div class="select-option" data-value="consultation">Buyer/Seller Consultation</div>
                <div class="select-option" data-value="showing">Property Showing</div>
                <div class="select-option" data-value="evaluation">Home Evaluation</div>
                <div class="select-option" data-value="investor">Investor Services</div>
              </div>
              <input type="hidden" name="service" required>
            </div>
          </label>
        </div>
        
        <div id="dynamicFields" class="dynamic-fields" style="display: none;">
          <!-- Buyer/Seller Consultation Fields -->
          <div id="consultationFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Best way to contact</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select contact method</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="call">Call</div>
                  <div class="select-option" data-value="text">Text</div>
                  <div class="select-option" data-value="email">Email</div>
                </div>
                <input type="hidden" name="contactMethod">
              </div>
            </label>
            <label class="form-field">
              <span>Preferred Time</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select time</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="morning">Morning (9 AM - 12 PM)</div>
                  <div class="select-option" data-value="afternoon">Afternoon (12 PM - 5 PM)</div>
                  <div class="select-option" data-value="evening">Evening (5 PM - 8 PM)</div>
                  <div class="select-option" data-value="custom">Custom Time</div>
                </div>
                <input type="hidden" name="consultationTimeOption">
              </div>
            </label>
            <label class="form-field" id="consultationCustomTimeField" style="display: none;">
              <span>Custom Time</span>
              <input type="time" name="consultationCustomTime">
            </label>
          </div>
          
          <!-- Property Showing Fields -->
          <div id="showingFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Property Address</span>
              <input type="text" name="propertyAddress" placeholder="Enter the property address you'd like to see">
            </label>
            <label class="form-field">
              <span>Preferred Date</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select date</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="today">Today</div>
                  <div class="select-option" data-value="tomorrow">Tomorrow</div>
                  <div class="select-option" data-value="future">Future Date</div>
                </div>
                <input type="hidden" name="dateOption">
              </div>
            </label>
            <label class="form-field" id="futureDateField" style="display: none;">
              <span>Select Future Date</span>
              <input type="date" name="futureDate" min="">
            </label>
            <label class="form-field">
              <span>Preferred Time</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select time</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="morning">Morning (9 AM - 12 PM)</div>
                  <div class="select-option" data-value="afternoon">Afternoon (12 PM - 5 PM)</div>
                  <div class="select-option" data-value="evening">Evening (5 PM - 8 PM)</div>
                  <div class="select-option" data-value="custom">Custom Time</div>
                </div>
                <input type="hidden" name="timeOption">
              </div>
            </label>
            <label class="form-field" id="customTimeField" style="display: none;">
              <span>Custom Time</span>
              <input type="time" name="customTime">
            </label>
          </div>
          
          <!-- Home Evaluation Fields -->
          <div id="evaluationFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Property Address</span>
              <input type="text" name="evaluationAddress" placeholder="Enter the property address for evaluation">
            </label>
            <label class="form-field">
              <span>Property Type</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select property type</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="single-family">Single Family Home</div>
                  <div class="select-option" data-value="condo">Condominium</div>
                  <div class="select-option" data-value="townhouse">Townhouse</div>
                  <div class="select-option" data-value="multi-family">Multi-Family</div>
                  <div class="select-option" data-value="commercial">Commercial</div>
                </div>
                <input type="hidden" name="propertyType">
              </div>
            </label>
          </div>
          
          <!-- Investor Services Fields -->
          <div id="investorFields" class="service-fields" style="display: none;">
            <label class="form-field">
              <span>Investment Interest</span>
              <div class="custom-select">
                <div class="select-trigger">
                  <span class="select-value">Select Investment Interest</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-options">
                  <div class="select-option" data-value="property-management">Property Management</div>
                  <div class="select-option" data-value="buy-and-hold">Buy & Hold</div>
                  <div class="select-option" data-value="fix-and-flip">Fix & Flip</div>
                  <div class="select-option" data-value="wholesale">Wholesale</div>
                  <div class="select-option" data-value="commercial">Commercial Investment</div>
                </div>
                <input type="hidden" name="investmentType">
              </div>
            </label>
            <label class="form-field">
              <span>Budget Range</span>
              <input type="text" name="budgetRange" placeholder="e.g., $500K - $1M">
          </label>
        </div>
        </div>
        
        <label class="form-field">
          <span>Message</span>
          <textarea name="message" rows="4" placeholder="Share details, timelines, or properties you'd like to see"></textarea>
        </label>
        <button type="submit" class="btn cta inquire-submit">Send Inquiry</button>
        <p class="inquire-disclaimer">Quick reply within one business day. Prefer a direct line? Email or call anytime.</p>
      </form>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer lux-footer" role="contentinfo">
      <div class="footer-surface">
        <div class="container footer-primary">
          <div class="footer-brand">
            <img src="assets/logo-icon.png" alt="Real OC logo" class="footer-logo">
            <p class="footer-tagline">Marine discipline. Bespoke guidance. Orange County real estate tailored to your next move.</p>
          </div>
          <div class="footer-contact">
            <h4>Visit &amp; Contact</h4>
            <ul class="footer-list">
              <li><span>Phone</span><a href="tel:+18554732562">1 (855) 4-REAL-OC</a></li>
              <li><span>Email</span><a href="mailto:michaelrichard.re@gmail.com">michaelrichard.re@gmail.com</a></li>
              <li><span>Office</span><address>Orange County, CA</address></li>
            </ul>
          </div>
          <div class="footer-links">
            <h4>Explore</h4>
            <ul class="footer-list">
              <li><a href="#hero">Home</a></li>
              <li><a href="search.html">Homes</a></li>
              <li><a href="buyers.html">Buyers</a></li>
              <li><a href="sellers.html">Sellers</a></li>
              <li><a href="why-us.html">Why Us</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="#inquire">Inquire</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
          <div class="footer-legal">
            <h4>Brokerage</h4>
            <p>Brokered by eXp Realty of Southern California</p>
            <p>CA DRE #01901413</p>
            <p class="legal-note">Equal Housing Opportunity. Information deemed reliable but not guaranteed. Independently owned and operated.</p>
            <a class="btn ghost footer-consult" href="contact.html">Schedule a Private Consultation</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="container footer-bottom-row">
          <p>&copy; <span id="year"></span> Real OC. All rights reserved.</p>
          <div class="footer-meta">
            <span>Licensed in the State of California</span>
            <span>Fair Housing &amp; ADA compliant</span>
          </div>
        </div>
      </div>
    </footer>

  <!-- JS -->
  <script src="js/main.js"></script>
  <script src="js/property-api.js"></script>
  <script type="module" src="js/homepage-search.js"></script>
    <script>
    // Initialize Property API
    window.propertyAPI = new PropertyAPI();
    
    // Navigation highlighting removed - only hover effects
    
    // Initialize featured properties carousel on homepage
    document.addEventListener('DOMContentLoaded', async function() {
      const carousel = document.getElementById('featuredCarousel');
      if (!carousel) return;
      
      try {
        // Load featured properties using the Property API
        const response = await window.propertyAPI.getFeaturedProperties(5);
        const properties = response.listings || [];
        
        // Initialize carousel with properties
        initializeFeaturedCarousel(properties);
        
      } catch (error) {
        console.error('Error loading featured properties:', error);
        // Show error state
        showCarouselError();
      }
      
      // Initialize chatbot
    });
    
    // Initialize featured properties carousel
    function initializeFeaturedCarousel(properties) {
      const carouselContainer = document.querySelector('.carousel-container');
      const indicators = document.querySelectorAll('.carousel-indicators .indicator');
      
      if (!carouselContainer || properties.length === 0) {
        showCarouselError();
        return;
      }
      
      let currentIndex = 0;
      let carouselInterval;
      
      // Create carousel cards for each property
      properties.forEach((property, index) => {
        const formatted = window.propertyAPI ? window.propertyAPI.formatPropertyForUI(property) : property;
        const card = createFeaturedPropertyCard(formatted, index);
        carouselContainer.appendChild(card);
      });
      
      // Show first property
      showProperty(0);
      
      // Auto-advance carousel every 4 seconds
      function startCarousel() {
        carouselInterval = setInterval(() => {
          currentIndex = (currentIndex + 1) % properties.length;
          showProperty(currentIndex);
        }, 4000);
      }
      
      // Stop carousel on hover
      carouselContainer.addEventListener('mouseenter', () => {
        clearInterval(carouselInterval);
      });
      
      // Resume carousel when mouse leaves
      carouselContainer.addEventListener('mouseleave', () => {
        startCarousel();
      });
      
      // Add click handlers to indicators
      indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          currentIndex = index;
          showProperty(currentIndex);
          clearInterval(carouselInterval);
          startCarousel();
        });
      });
      
      // Start the carousel
      startCarousel();
    }
    
    // Show specific property in carousel
    function showProperty(index) {
      const cards = document.querySelectorAll('.featured-property-card');
      const indicators = document.querySelectorAll('.carousel-indicators .indicator');
      
      // Hide all cards
      cards.forEach(card => {
        card.classList.remove('active', 'prev');
      });
      
      // Remove active from all indicators
      indicators.forEach(indicator => {
        indicator.classList.remove('active');
        indicator.setAttribute('aria-selected', 'false');
      });
      
      // Show current card
      if (cards[index]) {
        cards[index].classList.add('active');
      }
      
      // Activate current indicator
      if (indicators[index]) {
        indicators[index].classList.add('active');
        indicators[index].setAttribute('aria-selected', 'true');
      }
    }
    
    // Create featured property card
    function createFeaturedPropertyCard(property, index) {
      const card = document.createElement('div');
      card.className = 'featured-property-card';
      card.setAttribute('role', 'article');
      card.setAttribute('aria-label', `Featured property ${index + 1}: ${property.address}`);
      
      card.innerHTML = `
        <div class="property-image" style="background-image: url('${property.image}')" aria-hidden="true"></div>
        <div class="property-details">
          <div class="property-price" aria-label="Price ${property.price}">${property.price}</div>
          <div class="property-address">${property.address}</div>
          <div class="property-features">${property.beds} bed ‚Ä¢ ${property.baths} bath ‚Ä¢ ${property.sqft}</div>
          <div class="property-type">${property.propertyType}</div>
        </div>
      `;
      
      // Make card clickable
      card.style.cursor = 'pointer';
      card.addEventListener('click', () => {
        window.location.href = property.url;
      });
      
      return card;
    }
    
    // Show carousel error state
    function showCarouselError() {
      const carouselContainer = document.querySelector('.carousel-container');
      if (carouselContainer) {
        carouselContainer.innerHTML = `
          <div class="featured-property-card active">
            <div class="property-image" style="background: rgba(255,255,255,0.1);" aria-hidden="true"></div>
            <div class="property-details">
              <div class="property-price">Unable to Load</div>
              <div class="property-address">Please try again later</div>
              <div class="property-features">Or contact Michael directly</div>
            </div>
          </div>
        `;
      }
    }
    

<!-- Tiny NL ‚Üí filters parser -->
<script src="assets/js/ai-search-parser.js"></script>

<!-- Homepage AI Search: build the URL your search page already understands -->
<script>
  (function () {
    var form  = document.getElementById('homepageChatForm');
    var input = document.getElementById('homepageChatInput');
    var chips = document.querySelectorAll('[data-search-example]');

    if (!form || !input) return;

    // Map parser features to your URL flags
    function featureFlags(features) {
      var flags = {};
      if (features.indexOf('ocean_view') !== -1 || features.indexOf('view') !== -1) flags.hasView = 'true';
      if (features.indexOf('pool') !== -1) flags.hasPool = 'true';
      if (features.indexOf('gated') !== -1) flags.gated = 'true';
      if (features.indexOf('beachfront') !== -1) flags.beachfront = 'true';
      if (features.indexOf('garage') !== -1) flags.hasGarage = 'true';
      if (features.indexOf('new_construction') !== -1) flags.newBuild = 'true';
      return flags;
    }

    function buildUrlFromText(text) {
      var p = window.parseAiSearchQuery ? window.parseAiSearchQuery(text) : {};
      var params = new URLSearchParams();

      if (p.maxPrice) params.set('maxPrice', String(Math.round(p.maxPrice)));
      if (p.minPrice) params.set('minPrice', String(Math.round(p.minPrice)));
      if (p.minBeds)  params.set('minBeds',  String(p.minBeds));

      if (p.cities && p.cities.length) {
        params.set('cities', p.cities.map(function (c) {
          return c.split(' ').map(function (w){return w.charAt(0).toUpperCase()+w.slice(1);}).join(' ');
        }).join(','));
      }

      var flags = featureFlags(p.features || []);
      Object.keys(flags).forEach(function (k){ params.set(k, flags[k]); });

      // keep the raw text for UX/debug
      if (text && text.trim()) params.set('q', text.trim());

      // defaults your engine likes
      params.set('page', '1');
      params.set('sort', 'newest');

      return 'search.html?' + params.toString();
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      var q = (input.value || '').trim();
      if (!q) { alert("Tell me what you're looking for: city, price, beds, features."); return; }
      window.location.href = buildUrlFromText(q);
    });

    // Make the example chips submit too
    chips.forEach(function (chip) {
      chip.addEventListener('click', function () {
        var example = chip.getAttribute('data-search-example') || '';
        if (!example) return;
        window.location.href = buildUrlFromText(example);
      });
    });
  })();
</script>

</body>
</html>
